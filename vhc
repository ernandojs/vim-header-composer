#!/usr/bin/env bash

# wat if we have more than one line in JUST ONE HEADER?
temporary=$(tempfile) || exit 1
size=0
while read string;
do echo "${string}" >> ${temporary}
    [[  ${#string} -gt ${size} ]] && size=${#string}
done

size=$(($size + 10))

function str_repeat {
    echo $(printf '%*s' $1 | tr ' ' "$2")

}

trap "str_repeat $size '#'" \
EXIT; str_repeat $size '#'

while read string
do  spacing=$(printf '%*s' $(($size - ${#string} - 10)))
    echo "#### $string$spacing ####"
done < "${temporary}"
